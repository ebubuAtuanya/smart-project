{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\desktop\\\\smart-project\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Navigation from './Components/Navigation/Navigation';\nimport Logo from './Components/Logo/Logo';\nimport ImageLinkForm from './Components/ImageLinkForm/ImageLinkForm';\nimport Rank from './Components/Rank/Rank';\nimport ParticlesComponent from './Components/Particles/Particle';\nimport 'clarifai';\nimport FaceRecognition from './Components/FaceRecognition/FaceRecognition';\nimport Signing from './Components/Signing/Signing';\nimport Register from './Components/Register/Register';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  input: '',\n  imageUrl: '',\n  box: {},\n  route: 'signing',\n  isAssignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    // password:'',\n    email: '',\n    entries: 0,\n    joined: ''\n  }\n};\nclass App extends Component {\n  constructor() {\n    super();\n    this.loadUser = data => {\n      this.setState({\n        user: {\n          id: data.id,\n          name: data.name,\n          // password:'',\n          email: data.email,\n          entries: data.entries,\n          joined: data.joined\n        }\n      });\n    };\n    this.calculateFaceLocation = data => {\n      console.log(data);\n      const clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n      console.log(data);\n      const image = document.getElementById('inputImage');\n      const width = Number(image.width);\n      const height = Number(image.height);\n      return {\n        leftCol: clarifaiFace.left_col * width,\n        topRow: clarifaiFace.top_row * height,\n        rightCol: width - clarifaiFace.right_col * width,\n        bottomRow: height - clarifaiFace.bottom_row * height\n      };\n    };\n    this.displayFaceBox = box => {\n      console.log(box);\n      this.setState({\n        box: box\n      });\n    };\n    this.onInputChange = event => {\n      this.setState({\n        input: event.target.value\n      });\n    };\n    this.onButtonSubmit = () => {\n      this.setState({\n        imageUrl: this.state.input\n      });\n      const raw = JSON.stringify({\n        user_app_id: {\n          user_id: \"n5j51d1d9a18\",\n          app_id: \"test\"\n        },\n        inputs: [{\n          data: {\n            image: {\n              url: this.state.input\n            }\n          }\n        }]\n      });\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Authorization': 'Key ' + \"f6549e19ac4d49f2a4fc4d6c6a0d9881\"\n        },\n        body: raw\n      };\n      fetch(\"https://api.clarifai.com/v2/models/face-detection/outputs\", requestOptions).then(response => response.json()).then(result => {\n        if (result) {\n          fetch('http://localhost:3000/image', {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: this.state.user.id\n            })\n          }).then(response => response.json()).then(count => {\n            this.setState(Object.assign(this.state.user, {\n              entries: count\n            }));\n          });\n        }\n        this.displayFaceBox(this.calculateFaceLocation(result));\n      }).catch(console.log).catch(err => console.log(\"oops\", err));\n    };\n    this.onRouteChange = route => {\n      if (route === 'signout') {\n        this.setState(initialState);\n      } else if (route === 'home') {\n        this.setState({\n          isAssignedIn: true\n        });\n      }\n      this.setState({\n        route: route\n      });\n    };\n    this.state = initialState;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {\n        isAssignedIn: this.state.isAssignedIn,\n        onRouteChange: this.onRouteChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 6\n      }, this), this.state.route === 'home' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Rank, {\n          name: this.state.user.name,\n          entries: this.state.user.entries\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(ImageLinkForm, {\n          onInputChange: this.onInputChange,\n          onButtonSubmit: this.onButtonSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(FaceRecognition, {\n          box: this.state.box,\n          imageUrl: this.state.imageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }, this) : this.state.route === 'signing' ? /*#__PURE__*/_jsxDEV(Signing, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 10\n      }, this) : /*#__PURE__*/_jsxDEV(Register, {\n        loadUser: this.loadUser,\n        onRouteChange: this.onRouteChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Navigation","Logo","ImageLinkForm","Rank","ParticlesComponent","FaceRecognition","Signing","Register","jsxDEV","_jsxDEV","initialState","input","imageUrl","box","route","isAssignedIn","user","id","name","email","entries","joined","App","constructor","loadUser","data","setState","calculateFaceLocation","console","log","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBox","onInputChange","event","target","value","onButtonSubmit","state","raw","JSON","stringify","user_app_id","user_id","app_id","inputs","url","requestOptions","method","headers","body","fetch","then","response","json","result","count","Object","assign","catch","err","onRouteChange","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/USER/desktop/smart-project/src/App.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport Navigation from './Components/Navigation/Navigation';\r\nimport Logo from './Components/Logo/Logo';\r\nimport ImageLinkForm from './Components/ImageLinkForm/ImageLinkForm';\r\nimport Rank from './Components/Rank/Rank';\r\nimport ParticlesComponent from './Components/Particles/Particle';\r\nimport  'clarifai';\r\nimport FaceRecognition from './Components/FaceRecognition/FaceRecognition';\r\nimport Signing from './Components/Signing/Signing';\r\nimport Register from './Components/Register/Register';\r\nimport './App.css';\r\n\r\n\r\n\r\nconst initialState = {\r\n\r\n input: '',\r\n      imageUrl: '',\r\n      box: {},\r\n      route: 'signing',\r\n      isAssignedIn: false,\r\n      user: {\r\n        id:'',\r\n        name:'',\r\n        // password:'',\r\n        email:'',\r\n        entries:0,\r\n        joined: '',\r\n}\r\n}\r\n\r\nclass App extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = initialState;\r\n     \r\n      }\r\n    \r\n  \r\n\r\nloadUser =(data)=>{\r\n  this.setState({user:{\r\n     id:data.id,\r\n        name:data.name,\r\n        // password:'',\r\n        email:data.email,\r\n        entries:data.entries,\r\n        joined: data.joined,\r\n  }})\r\n\r\n}\r\n\r\n  calculateFaceLocation =(data)=>{\r\n    console.log(data)\r\n    const  clarifaiFace = data.outputs[0].data.regions[0].region_info.bounding_box;\r\n    console.log(data)\r\n\r\n    const image = document.getElementById('inputImage');\r\n    const width = Number(image.width);\r\n    const height = Number(image.height);\r\n    return{\r\n      leftCol: clarifaiFace.left_col * width,\r\n      topRow: clarifaiFace.top_row * height,\r\n      rightCol: width - (clarifaiFace.right_col * width),\r\n      bottomRow: height - (clarifaiFace.bottom_row * height)\r\n\r\n    }\r\n  }\r\n\r\n  displayFaceBox=(box)=>{\r\n    console.log(box);\r\n    this.setState({box: box})\r\n  }\r\n\r\n  onInputChange = (event)=>{\r\n    this.setState({input: event.target.value})\r\n  }\r\n\r\n\r\n  onButtonSubmit = ()=>{\r\n    this.setState({imageUrl:this.state.input});\r\n    const raw = JSON.stringify({\r\n      user_app_id : {\r\n        user_id: \"n5j51d1d9a18\",\r\n        app_id: \"test\",\r\n      },\r\n      inputs:[\r\n      {\r\n        data:{\r\n          image:{\r\n            url:this.state.input\r\n          },\r\n        },\r\n      },              \r\n      ],\r\n    });\r\n\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: {\r\n        'Accept': 'application/json',\r\n        'Authorization': 'Key ' + \"f6549e19ac4d49f2a4fc4d6c6a0d9881\"\r\n    },\r\n    body: raw\r\n};\r\n        fetch(\"https://api.clarifai.com/v2/models/face-detection/outputs\" ,requestOptions)\r\n        .then(response =>response.json())\r\n        .then(result => {\r\n        if (result) {\r\n        fetch('http://localhost:3000/image',{\r\n          method: 'PUT',\r\n          headers: {'Content-Type': 'application/json'},\r\n          body: JSON.stringify({\r\n            id: this.state.user.id\r\n          })\r\n        })\r\n        .then(response => response.json())\r\n        .then(count => {\r\n          this.setState(Object.assign(this.state.user,{ entries: count}))\r\n        })\r\n      }\r\n      this.displayFaceBox(this.calculateFaceLocation(result))\r\n    })\r\n    .catch(console.log)\r\n    .catch(err=>console.log(\"oops\", err));\r\n\r\n  };\r\n\r\n   onRouteChange =(route)=>{\r\n    if (route === 'signout'){\r\n      this.setState(initialState)\r\n    }else if (route === 'home'){\r\n      this.setState({isAssignedIn:true})\r\n    }\r\n    this.setState({route: route});\r\n     }\r\n\r\n\r\n  render(){\r\n  return (\r\n    <div className=\"App\">\r\n     <Navigation isAssignedIn={this.state.isAssignedIn} onRouteChange={this.onRouteChange}/>\r\n     { this.state.route === 'home' \r\n     ?<div>\r\n     <Logo />\r\n      <Rank \r\n      name={this.state.user.name}\r\n      entries={this.state.user.entries} \r\n      />\r\n      <ImageLinkForm \r\n       onInputChange={this.onInputChange} \r\n       onButtonSubmit={this.onButtonSubmit} \r\n      />\r\n      <FaceRecognition  box={this.state.box} imageUrl={this.state.imageUrl} />\r\n      </div>\r\n      : (\r\n        this.state.route === 'signing' \r\n        ?<Signing loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\r\n        :<Register loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\r\n      )\r\n     }\r\n    </div>\r\n  \r\n  );\r\n}\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}